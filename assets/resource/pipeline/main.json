{
  "$__mpe_config_main": {
    "$__mpe_code": {
      "filePath": "E:\\BABox\\assets\\resource\\pipeline\\main.json",
      "filename": "main",
      "isModifiedExternally": true,
      "lastSyncTime": 1767364411688,
      "prefix": "",
      "savedViewport": {
        "x": -930,
        "y": 69,
        "zoom": 0.87
      },
      "version": "v0.14.2"
    }
  },
  "入口（导航）": {
    "$__mpe_code": {
      "position": {
        "x": 0,
        "y": 376
      }
    },
    "action": {
      "param": {
        "target": [
          0,
          0,
          1,
          1
        ]
      },
      "type": "Click"
    },
    "next": [
      "退出待机"
    ],
    "post_wait_freezes": {
      "target": [
        1350,
        925,
        510,
        120
      ],
      "time": 500
    },
    "recognition": {
      "param": {},
      "type": "DirectHit"
    }
  },
  "入口（无导航）": {
    "$__mpe_code": {
      "position": {
        "x": 1500,
        "y": 272
      }
    },
    "action": {
      "param": {
        "target": [
          0,
          0,
          1,
          1
        ]
      },
      "type": "Click"
    },
    "next": [
      "验证进入成功"
    ],
    "post_wait_freezes": {
      "target": [
        1350,
        925,
        510,
        120
      ],
      "time": 500
    },
    "recognition": {
      "param": {},
      "type": "DirectHit"
    }
  },
  "判断进入成功": {
    "$__mpe_code": {
      "position": {
        "x": 1200,
        "y": 491
      }
    },
    "action": {
      "param": {},
      "type": "DoNothing"
    },
    "next": [
      "进入学生详情"
    ],
    "on_error": [
      "进入学生列表"
    ],
    "recognition": {
      "param": {
        "expected": [
          "學生清單",
          "学生清单"
        ],
        "roi": [
          125,
          125,
          290,
          90
        ]
      },
      "type": "OCR"
    },
    "timeout": 2500
  },
  "图像识别": {
    "$__mpe_code": {
      "position": {
        "x": 2100,
        "y": 185
      }
    },
    "action": {
      "param": {
        "custom_action": "check_and_stop_student_info_task"
      },
      "type": "Custom"
    },
    "max_hit": 300,
    "next": [
      "检测是否位于详情页"
    ],
    "on_error": [
      "结束"
    ],
    "post_delay": 0,
    "pre_delay": 0,
    "recognition": {
      "param": {
        "custom_recognition": "get_student_info"
      },
      "type": "Custom"
    },
    "timeout": 1000
  },
  "检测是否位于详情页": {
    "$__mpe_code": {
      "position": {
        "x": 1800,
        "y": 0
      }
    },
    "action": {
      "param": {},
      "type": "DoNothing"
    },
    "next": [
      "图像识别"
    ],
    "on_error": [
      "结束"
    ],
    "post_wait_freezes": 300,
    "pre_delay": 0,
    "recognition": {
      "param": {
        "expected": [
          "基本情报",
          "基本情報"
        ],
        "roi": [
          1000,
          180,
          270,
          80
        ]
      },
      "type": "OCR"
    },
    "timeout": 1000
  },
  "结束": {
    "$__mpe_code": {
      "position": {
        "x": 2400,
        "y": 82
      }
    },
    "action": {
      "param": {
        "custom_action": "save_and_stop_student_info_task"
      },
      "type": "Custom"
    },
    "recognition": {
      "param": {},
      "type": "DirectHit"
    }
  },
  "识别Home图标": {
    "$__mpe_code": {
      "position": {
        "x": 600,
        "y": 360
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "next": [
      "进入学生列表"
    ],
    "post_wait_freezes": {
      "target": [
        1350,
        925,
        510,
        120
      ],
      "time": 1000
    },
    "recognition": {
      "param": {
        "roi": [
          1690,
          0,
          230,
          70
        ],
        "template": [
          "HomeButton.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "进入学生列表": {
    "$__mpe_code": {
      "position": {
        "x": 900,
        "y": 490
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "next": [
      "判断进入成功"
    ],
    "on_error": [
      "识别Home图标"
    ],
    "pre_wait_freezes": 1000,
    "recognition": {
      "param": {
        "any_of": [
          {
            "param": {
              "green_mask": true,
              "roi": [
                450,
                925,
                85,
                130
              ],
              "template": [
                "StudentEntry.png"
              ]
            },
            "sub_name": "StudentEntry",
            "type": "TemplateMatch"
          },
          {
            "param": {
              "expected": [
                "學生",
                "学生"
              ],
              "roi": "StudentEntry"
            },
            "type": "OCR"
          }
        ]
      },
      "type": "Or"
    },
    "timeout": 5000
  },
  "进入学生详情": {
    "$__mpe_code": {
      "position": {
        "x": 1500,
        "y": 520
      }
    },
    "action": {
      "param": {
        "target_offset": [
          140,
          140,
          0,
          0
        ]
      },
      "type": "Click"
    },
    "next": [
      "验证进入成功"
    ],
    "recognition": {
      "param": {
        "any_of": [
          {
            "param": {
              "green_mask": true,
              "roi": [
                50,
                250,
                1790,
                830
              ],
              "template": [
                "PinnedIcon.png"
              ]
            },
            "type": "TemplateMatch"
          },
          {
            "param": {
              "roi": [
                50,
                250,
                1790,
                830
              ],
              "template": [
                "UnpinnedIcon.png"
              ]
            },
            "type": "TemplateMatch"
          }
        ]
      },
      "type": "Or"
    }
  },
  "退出待机": {
    "$__mpe_code": {
      "position": {
        "x": 300,
        "y": 376
      }
    },
    "action": {
      "param": {
        "target": [
          0,
          0,
          1,
          1
        ]
      },
      "type": "Click"
    },
    "next": [
      "识别Home图标",
      "进入学生列表"
    ],
    "post_wait_freezes": 200,
    "recognition": {
      "param": {},
      "type": "DirectHit"
    }
  },
  "验证进入成功": {
    "$__mpe_code": {
      "position": {
        "x": 1800,
        "y": 475
      }
    },
    "action": {
      "param": {
        "custom_action": "clear_student_info_cache"
      },
      "type": "Custom"
    },
    "next": [
      "图像识别"
    ],
    "on_error": [
      "判断进入成功"
    ],
    "post_delay": 0,
    "pre_delay": 0,
    "recognition": {
      "param": {
        "expected": [
          "基本情报",
          "基本情報"
        ],
        "roi": [
          1000,
          180,
          270,
          80
        ]
      },
      "type": "OCR"
    }
  },
  "导出为HTML": {
    "action": {
      "type": "Custom",
      "param":{
        "custom_action": "export_to_html"
      }
    },
    "recognition": "DirectHit"
  }
}